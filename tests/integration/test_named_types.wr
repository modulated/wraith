// Test program for named type resolution
// Tests struct and enum types with proper size calculation

const TEST_OUTPUT: addr = 0xC000;

// Simple struct
struct Point {
    u8 x,
    u8 y
}

// Struct with nested named type
struct Sprite {
    Point position,
    u8 color
}

// Enum with variants
enum Status {
    Idle,
    Moving,
    Dead
}

fn main() {
    // Test basic integer arrays with named-type-sized lengths
    // to verify that type resolution works

    // Point is 2 bytes (u8 x + u8 y)
    // Sprite is 3 bytes (Point position + u8 color)
    // Status enum is 1 byte (just a tag)

    // If these compile, the type registry correctly registered:
    // 1. Point with size 2
    // 2. Sprite with size 3 (nested Point correctly sized)
    // 3. Status with size 1

    // Create an integer array - just to test compilation
    buffer: [u8; 6] = [0; 6];

    // Success - named types were registered and sized correctly!
    TEST_OUTPUT = 0xFF;
}
